<div
    [ngStyle]="{'top.px': top, 'left.px': left, 'width.px': width}">

    <div class="filter"
        *ngIf="(!multiple && filterEnabled) || (forceFilterEnabled && filterEnabled)">
        <input
            #filterInput
            (click)="onSingleFilterClick($event)"
            (input)="onSingleFilterInput($event)"
            (keydown)="onSingleFilterKeydown($event)">
    </div>

    <div class="options"
        #optionsList>
        <ul
            (wheel)="onOptionsWheel($event)">
            <li *ngFor="let option of optionList.filtered; let i = index">
                <ng-template *ngIf="shouldShowGroup(i)" [ngTemplateOutlet]="{option: option}" [ngTemplateOutlet]="groupTemplate"></ng-template>

                <div (click)="onOptionClick(option)"
                    [ngClass]="{'highlighted': option.highlighted, 'selected': option.selected, 'disabled': option.disabled, 'templated': !!optionTemplate}"
                    [ngStyle]="getOptionStyle(option)"
                    (mouseover)="onOptionMouseover(option)">
                    <ng-template [ngTemplateOutlet]="{option: option}" [ngTemplateOutlet]="selectOptionTemplate"></ng-template>
                    <span *ngIf="!selectOptionTemplate">{{option.label}}</span>
                </div>
            </li>
            <li
                *ngIf="alwaysOnTemplate"
                class="message">
                <ng-template [ngTemplateOutlet]="alwaysOnTemplate"></ng-template>
            </li>
            <li
                *ngIf="!optionList.hasShown"
                class="message">
                <ng-template [ngTemplateOutlet]="notFoundTemplate"></ng-template>
                <span *ngIf="!notFoundTemplate">{{notFoundMsg}}</span>
            </li>
        </ul>
    </div>
</div>
